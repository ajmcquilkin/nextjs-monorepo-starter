/* eslint-disable max-len */

import { HTML } from 'types/email';
import { Post } from 'types/post';

// * Paste minified template HTML into this variable
export const templateHTML = '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vox Daily - {{__DATE}}</title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><style>*{font-family:Arial,Helvetica,sans-serif}.mainTableRow{padding:0 24px 24px 24px;margin:0 0 0 0;width:100%}.qodImage{margin:auto 0 0 0}.spacer{padding:2px 0 2px 0}.spacer.sm{padding:1px 0 1px 0}.postTable *{margin:0 0 12px 0}.sectionSpacerPadding{padding:0 0 24px 0}.noContent{color:#424141}p,a{margin:0 0 0 0;font-size:16px;line-height:155%;mso-line-height-rule:exactly}h1{margin:0 0 0 0;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:40px;font-weight:900;color:#12312B}h2{margin:0 0 0 0;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:21px;font-weight:900;color:#12312B}h3{margin:0 0 8px 0;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:21px;font-weight:500;color:#12312B}h4{margin:0 0 0 0;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:18px;font-weight:600;color:#12312B}table{border-collapse:separate}a,a:link,a:visited{text-decoration:underline;color:#267ABA}a:hover{text-decoration:underline}.ExternalClass p, .ExternalClass span, .ExternalClass font, .ExternalClass td{line-height:100%}.ExternalClass{width:100%}</style></head><body style="margin: 0 0 0 0; padding: 0 0 0 0;"><table role="presentation" style="margin: 0 auto 0 auto;" cellpadding="0" cellspacing="0" border="0"><tr><td><table role="presentation" class="mainTableRow" style="margin: 0 auto 0 auto; padding: 0 0 0 0;" cellpadding="0" cellspacing="0" border="0"><tr><td><p style="padding: 21px 0 21px 0; text-align: center;"> <a style="color: #00693E; text-align: center;" href="{{__URL}}"> View in browser </a></p></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" style="margin: 0 auto 0 auto;" cellpadding="0" cellspacing="0" border="0"><tr><td class="spacer sm" bgcolor="#00693E"></td></tr><tr><td><h1 style="margin: 12px 0 3px 0; text-align: center;">Vox Daily</h1></td></tr><tr><td><h2 style="margin: 0 0 12px 0; text-align: center;">{{__DATE}}</h2></td></tr><tr><td class="spacer sm" bgcolor="#00693E"></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" cellpadding="0" cellspacing="0" border="0"><tr><td><h3 style="color: #00693E">Daily Summary</h3><table role="presentation" class="sectionSpacerPadding" width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="spacer" bgcolor="#00693E"></td></tr></table></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" cellpadding="0" cellspacing="0" border="0"><tr><td><h3 style="color: #00693E; padding: 0 0 12px 0;">News</h3> {{__NEWSTITLES}}<p class="sectionPadding"></p></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" cellpadding="0" cellspacing="0" border="0"><tr><td><h3 style="color: #00693E; padding: 0 0 9px 0;">Announcements</h3> {{__ANNOUNCEMENTSTITLES}}<p class="sectionPadding"></p></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" cellpadding="0" cellspacing="0" border="0"><tr><td><h3 style="color: #00693E; padding: 0 0 9px 0;">Events</h3> {{__EVENTSTITLES}}<p class="sectionPadding"></p></td></tr></table></td></tr><tr><td><table role="presentation" style="padding: 0 0 36px 0;" cellpadding="0" cellspacing="0" border="0"><tr bgcolor="#00693E"><td><table role="presentation" style="padding: 30px 36px 0 36px; margin: 0 auto 0 auto;" cellpadding="0" cellspacing="0" border="0"><tr><td><img class="qodImage" src="/icons/left-email-small.svg" /></td><td><h2 style="width: 132px; text-align: center; color: #FFFFFF; padding: 0 0 12px 0;"> QUOTE OF THE DAY</h2></td><td><img class="qodImage" src="/icons/right-email-small.svg" /></td></tr></table></td></tr><tr><td bgcolor="#00341F"><table width="72%" style="padding: 48px 0 48px 0; margin: 0 auto 0 auto;" role="presentation" width="300" cellpadding="0" cellspacing="0" border="0"><tr><td><p style="text-align: center; color: #FFFFFF; margin: 0 0 24px 0;"> {{__CAPTION}}</p></td></tr><tr><td><p style="text-align: center; color: #FFFFFF; font-weight: bold;"> {{__CAPTIONCONTEXT}}</p></td></tr></table></td></tr><tr><td><p class="sectionPadding"></p></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" cellpadding="0" cellspacing="0" border="0"><tr><td><h3 style="text-transform: uppercase;">News</h3><table role="presentation" class="sectionSpacerPadding" width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="spacer" bgcolor="#00693E"></td></tr></table> {{__NEWS}}<p class="sectionPadding"></p></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" cellpadding="0" cellspacing="0" border="0"><tr><td><h3 style="text-transform: uppercase;">Announcements</h3><table role="presentation" class="sectionSpacerPadding" width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="spacer" bgcolor="#00693E"></td></tr></table> {{__ANNOUNCEMENTS}}<p class="sectionPadding"></p></td></tr></table></td></tr><tr><td><table role="presentation" class="mainTableRow" cellpadding="0" cellspacing="0" border="0"><tr><td><h3 style="text-transform: uppercase;">Events</h3><table role="presentation" class="sectionSpacerPadding" width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="spacer" bgcolor="#00693E"></td></tr></table> {{__EVENTS}}</td></tr></table></td></tr></body></html>';

export const generateGroupsArray = (group: string | string[]): string[] => {
  if (!group) return [];
  if (typeof group === 'string') return [group];
  return [...group];
};

export const generateTitleSectionHTML = (content: { title: string, link: string, extra?: string }[]): HTML => (content.length ? content.map(({ title, link, extra }) => (
  `<table role="presentation" cellpadding="0" cellspacing="0" border="0" style="padding: 0 0 9px 0"><tr><td>
    <p><a href="${link}">${title}</a><span style="color: #424141">${extra ? ` - ${extra}` : ''}</span></p>
  </td></tr></table>`
)).join('\n') : '<table role="presentation" cellpadding="0" cellspacing="0" border="0"><tr><td><p class="noContent">No content</p></td></tr></table>');

export const generateContentSectionHTML = (posts: Post[]): HTML => (posts.length ? posts.map((post) => (
  `<table role="presentation" cellpadding="0" cellspacing="0" border="0"><tr><td>
    <h4 style="margin: 0 0 0 0; padding: 0 0 9px 0;">${post.briefContent}</h4>
    <table role="presentation" class="postTable"><tr><td>${post.fullContent}</td></tr></table>
  </td></tr></table>`
)).join('\n') : '<table role="presentation" cellpadding="0" cellspacing="0" border="0"><tr><td><p class="noContent">No content</p></td></tr></table>');
